(()=>{{let e=document.querySelector("html"),t={auto:"auto",dark:"dark",light:"light"},o=Object.keys(t),a=document.getElementById("theme-switcher"),r=document.getElementById("theme-rotator");e.classList.remove("no-js"),a.classList.remove("off");let s={get:()=>localStorage.getItem("theme")||o[0],set:n=>localStorage.setItem("theme",n)},c=o.indexOf(s.get()),i=n=>{switch(r.style.transform=`rotate(-${c++*120}deg)`,n){case t.auto:window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches?e.classList.add("light"):e.classList.remove("light");break;case t.dark:e.classList.remove("light");break;case t.light:e.classList.add("light");break}};i(s.get()),a.addEventListener("click",()=>{let n=o[c%3];i(n),s.set(n)})}{let e=decodeURI(location.hash).slice(1);if(e.length){let t=document.createElement("div");document.querySelector("blockquote").innerText=e}}if(location.hostname!=="localhost"&&"serviceWorker"in navigator){let e=t=>{navigator.serviceWorker.addEventListener("message",o=>{let a=JSON.parse(o.data);console.log("[APP]: new message from ServiceWorker:",a),a.code===1&&(t.unregister().then(),location.reload())})};navigator.serviceWorker.controller?navigator.serviceWorker.getRegistration().then(t=>{e(t)}):navigator.serviceWorker.register("sw.js",{scope:"./"}).then(t=>{e(t)})}location.hash==="#do-not-track"||location.hostname==="localhost"?console.log("I will not track you"):(function(e,t,o,a,r,s,c){try{e[r]=e[r]||function(){(e[r].a=e[r].a||[]).push(arguments)},e[r].l=1*new Date,s=t.createElement(o),c=t.getElementsByTagName(o)[0],s.async=1,s.src=a,c.parentNode.insertBefore(s,c)}catch(i){console.warn("Yandex.Metrika is blocked")}}(window,document,"script","https://mc.yandex.ru/metrika/tag.js","ym"),ym(35320200,"init",{id:35320200,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0}));})();
