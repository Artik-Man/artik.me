(()=>{{let e=document.querySelector("html"),t={auto:"auto",dark:"dark",light:"light"},o=Object.keys(t),r=document.getElementById("theme-switcher"),a=document.getElementById("theme-rotator");e.classList.remove("no-js"),r.classList.remove("off");let s={get:()=>localStorage.getItem("theme")||o[0],set:n=>localStorage.setItem("theme",n)},c=o.indexOf(s.get()),i=n=>{switch(a.style.transform=`rotate(-${c++*120}deg)`,n){case t.auto:window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches?e.classList.add("light"):e.classList.remove("light");break;case t.dark:e.classList.remove("light");break;case t.light:e.classList.add("light");break}};i(s.get()),r.addEventListener("click",()=>{let n=o[c%3];i(n),s.set(n)})}{let e=decodeURI(location.hash).slice(1);e.length&&(document.querySelector("blockquote").innerText=e)}if(location.hostname!=="localhost"&&"serviceWorker"in navigator){let e=t=>{navigator.serviceWorker.addEventListener("message",o=>{let r=JSON.parse(o.data);console.log("[APP]: new message from ServiceWorker:",r),o.data&&o.data.type==="VERSION_OUTDATED"&&(t.unregister().then(),location.reload())}),navigator.serviceWorker.controller.postMessage({type:"CHECK_VERSION"})};navigator.serviceWorker.controller?navigator.serviceWorker.getRegistration().then(t=>{e(t)}):navigator.serviceWorker.register("sw.js",{scope:"./"}).then(t=>{e(t)})}location.hash==="#do-not-track"||location.hostname==="localhost"?console.log("I will not track you"):(function(e,t,o,r,a,s,c){try{e[a]=e[a]||function(){(e[a].a=e[a].a||[]).push(arguments)},e[a].l=1*new Date,s=t.createElement(o),c=t.getElementsByTagName(o)[0],s.async=1,s.src=r,c.parentNode.insertBefore(s,c)}catch(i){console.warn("Yandex.Metrika is blocked")}}(window,document,"script","https://mc.yandex.ru/metrika/tag.js","ym"),ym(35320200,"init",{id:35320200,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0}));})();
