(()=>{{let e=document.querySelector("html"),t={auto:"auto",dark:"dark",light:"light"},s=Object.keys(t),o=document.getElementById("theme-switcher"),r=document.getElementById("theme-rotator");e.classList.remove("no-js"),o.classList.remove("off");let a={get:()=>localStorage.getItem("theme")||s[0],set:n=>localStorage.setItem("theme",n)},c=s.indexOf(a.get()),i=n=>{switch(r.style.transform=`rotate(-${c++*120}deg)`,n){case t.auto:window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches?e.classList.add("light"):e.classList.remove("light");break;case t.dark:e.classList.remove("light");break;case t.light:e.classList.add("light");break}};i(a.get()),o.addEventListener("click",()=>{let n=s[c%3];i(n),a.set(n)})}if(location.hostname!=="localhost"&&"serviceWorker"in navigator){let e=t=>{navigator.serviceWorker.addEventListener("message",s=>{let o=JSON.parse(s.data);console.log("[APP]: new message from ServiceWorker:",o),o.code===1&&(t.unregister().then(),location.reload())})};navigator.serviceWorker.controller?navigator.serviceWorker.getRegistration().then(t=>{e(t)}):navigator.serviceWorker.register("sw.js",{scope:"./"}).then(t=>{e(t)})}location.hash==="#do-not-track"||location.hostname==="localhost"?console.log("I will not track you"):(function(e,t,s,o,r,a,c){try{e[r]=e[r]||function(){(e[r].a=e[r].a||[]).push(arguments)},e[r].l=1*new Date,a=t.createElement(s),c=t.getElementsByTagName(s)[0],a.async=1,a.src=o,c.parentNode.insertBefore(a,c)}catch(i){console.warn("Yandex.Metrika is blocked")}}(window,document,"script","https://mc.yandex.ru/metrika/tag.js","ym"),ym(35320200,"init",{id:35320200,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0}));})();
